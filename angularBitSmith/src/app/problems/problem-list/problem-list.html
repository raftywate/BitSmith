<div class="container mx-auto p-4 mt-8 font-sans max-w-6xl">
  <div class="card-wrapper">
    <div class="header-section">
      <div>
        <h2 class="title">Problem Set</h2>
        <p class="subtitle">Browse and solve algorithmic challenges.</p>
      </div>

      <div class="page-size-wrapper">
        <label for="pageSize" class="label">Rows:</label>
        <select id="pageSize" [ngModel]="pageSize()" (ngModelChange)="pageSize.set($event); onPageSizeChange()"
          class="dropdown">
          <option [ngValue]="5">5</option>
          <option [ngValue]="10">10</option>
          <option [ngValue]="20">20</option>
          <option [ngValue]="50">50</option>
        </select>
      </div>
    </div>

    <!-- Table Success State (Sample shortened for separation demonstration) -->
    @if (!isLoading() && problems().length > 0) {
    <div class="table-container">
      <table class="table">
        <thead>
          <tr>
            <th class="th">Status</th>
            <th class="th">#</th>
            <th class="th w-1/2">Title</th>
            <th class="th">Difficulty</th>
            <th class="th">Tags</th>
          </tr>
        </thead>
        <tbody>
          @for (problem of problems(); track problem.id) {
          <tr class="row" (click)="open(problem.id)">
            <td class="td status-icon"></td>
            <td class="td">{{ problem.problemNumber }}</td>
            <td class="td title-link">{{ problem.title }}</td>
            <td class="td">
              <span class="difficulty-chip {{ problem.difficulty | lowercase }}">
                {{ problem.difficulty }}
              </span>
            </td>
            <td class="td">
              <div class="tag-wrapper">
                @for (category of problem.categories; track category.id) {
                <span class="tag-chip">{{ category.name }}</span>
                }
              </div>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
    }
  </div>
</div>